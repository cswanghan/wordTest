# 🖐️ 体感模式原型使用指南

## 📋 概述

本原型演示了体感模式的核心功能，包括：
- 🎯 字母洒满屏幕
- ✋ 手势识别模拟
- 🎮 交互式选择机制
- 📊 实时状态反馈

**⚠️ 重要说明**：这是 MVP 原型，使用模拟手势数据。完整版本需要集成 MediaPipe Hands。

---

## 🚀 快速开始

### 1. 打开原型
在浏览器中打开 `gesture-mode-prototype.html` 文件

### 2. 启动摄像头
点击 "📹 摄像头画面" 区域的 "点击启动摄像头" 按钮

### 3. 观察模拟手势
原型会自动模拟手部动作和手势变化

---

## 🎮 功能详解

### 摄像头区域
- **摄像头画面**：显示视频流（原型中为模拟画面）
- **手部追踪**：实时显示手部关键点和光标位置
- **状态监控**：
  - 摄像头状态
  - 当前手势类型
  - FPS 计数器

### 字母洒满区域
- **目标单词**：`apple` (会动态变化)
- **字母分布**：
  - 橙色框：目标字母
  - 蓝色框：干扰字母
- **碰撞检测**：光标经过字母时会高亮显示

### 拼写输入区域
- **输入槽位**：5个槽位对应 `apple`
- **颜色编码**：
  - 绿色：正确输入
  - 红色：错误输入（干扰字母）
- **操作按钮**：
  - 提交答案
  - 清空重置

### 控制面板
| 设置项 | 选项 | 说明 |
|--------|------|------|
| 难度 | 简单/中等/困难 | 控制干扰字母数量（0/2/4个） |
| 灵敏度 | 低/中/高 | 手势识别敏感度（原型中无实际效果） |
| 手势 | 自动/仅手掌/仅握拳 | 选择识别的手势类型 |
| 显示追踪 | 开启/关闭 | 控制调试信息显示 |

---

## 🎯 交互流程

### 模拟手势操作

#### 1. 移动光标（✋ 手掌张开）
```javascript
模拟状态：gesture: 'open_palm'
- 光标会在屏幕上平滑移动
- 经过字母时会高亮显示
```

#### 2. 选择字母（✊ 握拳）
```javascript
模拟状态：gesture: 'closed_fist'
- 触发选择当前高亮的字母
- 字母填入输入槽位
- 提供触觉反馈（震动）
```

#### 3. 指向精确（👆 指向）
```javascript
模拟状态：gesture: 'pointing'
- 更精确的光标控制
- 更小的选择半径
```

---

## 🔬 技术细节

### 核心算法

#### 1. 字母洒满算法
```javascript
generateLetterPool(word, difficulty)
- 输入：目标单词 + 难度等级
- 输出：字母池（目标字母 + 干扰字母）
- 位置：calculateNonOverlappingPosition()
```

#### 2. 碰撞检测
```javascript
checkLetterCollision()
- 实时检测光标与字母的距离
- 高亮最近的字母（< 50px）
- 触发选择机制
```

#### 3. 手势模拟
```javascript
startMockGestureSimulation()
- 30 FPS 模拟循环
- 随机移动目标点
- 定时切换手势状态
- 置信度模拟（70-100%）
```

---

## 📊 性能指标

### 当前性能（原型）
- **模拟 FPS**：30 FPS
- **响应延迟**：~100ms
- **CPU 使用**：< 5%
- **内存占用**：< 20MB

### 预期性能（完整版）
基于 MediaPipe 基准：
- **处理延迟**：12-17ms
- **实际 FPS**：30-60 FPS
- **CPU 使用**：20-40%
- **内存占用**：50-80MB

---

## 🎨 界面说明

### 颜色编码系统

| 颜色 | 含义 | 位置 |
|------|------|------|
| 🟠 橙色 | 目标字母 | 字母洒满区 |
| 🔵 蓝色 | 干扰字母 | 字母洒满区 |
| 🟢 绿色 | 正确输入 | 输入槽位 |
| 🔴 红色 | 错误输入 | 输入槽位 |
| 🟡 黄色 | 高亮选中 | 字母洒满区 |

### 动画效果

1. **字母高亮**：缩放 + 脉冲动画
2. **输入反馈**：颜色渐变
3. **成功庆祝**：震动 + 绿色提示
4. **错误惩罚**：震动 + 红色提示

---

## 🧪 测试场景

### 场景1：基础拼写
1. 观察字母洒满
2. 用手势移动光标到 `a`
3. 握拳选择
4. 重复直到完成 `apple`

### 场景2：干扰字母处理
1. 切换到 "困难" 难度
2. 注意干扰字母增加
3. 尝试选择错误字母
4. 观察错误反馈

### 场景3：性能测试
1. 打开浏览器开发者工具
2. 监控 FPS 计数器
3. 观察 CPU/内存使用
4. 记录性能数据

---

## 🐛 已知问题

### 原型限制
1. **无真实手势识别**：使用模拟数据
2. **摄像头模拟**：显示静态画面
3. **无持久化**：设置不会保存
4. **单单词**：仅支持 `apple`

### 完整版将解决
- ✅ 真实 MediaPipe 集成
- ✅ 实际摄像头画面
- ✅ 本地存储设置
- ✅ 完整单词库

---

## 🔮 后续开发计划

### Phase 1：核心集成（1周）
- [ ] 集成 MediaPipe Hands
- [ ] 实现真实手势识别
- [ ] 优化性能到 30+ FPS
- [ ] 添加错误处理

### Phase 2：增强功能（2周）
- [ ] 多单词支持
- [ ] 难度动态调整
- [ ] 统计系统
- [ ] 成就系统

### Phase 3：完善优化（1周）
- [ ] 跨浏览器测试
- [ ] 移动端适配
- [ ] 性能优化
- [ ] 用户反馈整合

---

## 📚 参考资源

### 技术文档
- [MediaPipe Hand Landmarker](https://ai.google.dev/edge/mediapipe/solutions/vision/hand_landmarker)
- [TensorFlow.js Hand Pose](https://github.com/tensorflow/tfjs-models/tree/master/hand-pose-detection)
- [WebGL 兼容性](https://caniuse.com/webgl)

### 源代码文件
- `GESTURE_MODE_TECH_REPORT.md` - 完整技术评估报告
- `gesture-mode-prototype.html` - MVP 原型代码

---

## 💡 使用建议

### 开发者
1. **查看源代码**：了解核心算法实现
2. **测试性能**：监控 FPS 和资源使用
3. **扩展功能**：基于原型添加新特性
4. **准备集成**：规划 MediaPipe 集成方案

### 测试者
1. **尝试所有难度**：体验不同干扰级别
2. **观察交互**：注意手势到反馈的延迟
3. **记录问题**：标注任何异常行为
4. **提供反馈**：分享使用体验

---

**原型版本**：v1.0.0
**创建日期**：2025-12-22
**最后更新**：2025-12-22
